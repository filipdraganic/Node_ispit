(function(e){function t(t){for(var s,r,n=t[0],l=t[1],c=t[2],u=0,m=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,n=1;n<a.length;n++){var l=a[n];0!==o[l]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},o={app:0},i=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0390":function(e,t,a){},1279:function(e,t,a){"use strict";var s=a("0390"),o=a.n(s);o.a},"250a":function(e,t,a){},"286b":function(e,t,a){},"52c0":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.ulogovan?a("div",[a("header-logged-in")],1):a("div",[a("webapp-header")],1),a("router-view"),a("webapp-footer")],1)},i=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",[e._v(" "+e._s(e.footerText)+" ")])},n=[],l={name:"footer",data(){return{footerText:"Copyright call upon Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem doloremque doloribus eius error, est et eveniet molestiae officiis omnis recusandae!"}}},c=l,d=(a("e8de"),a("2877")),u=Object(d["a"])(c,r,n,!1,null,"9c56cfd0",null),m=u.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid",attrs:{id:"header"}},[s("header",{staticClass:"row"},[s("div",{staticClass:"col col-4 "}),s("div",{staticClass:"col col-4"},[s("a",{on:{click:function(t){return e.goToHome()}}},[s("img",{attrs:{src:a("81b1"),id:"logo"}})])]),s("div",{staticClass:"row",attrs:{id:"headerdugmici"}},[e._m(0),s("div",{staticClass:"text-center col col-6"},[s("a",{staticClass:"btn btn-default btn-rounded mb-4 ",attrs:{id:"logoutDugme",href:""},on:{click:function(t){return e.logout()}}},[e._v("Logout")])])])]),s("div",[s("login"),s("register")],1)])},p=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center col col-6"},[a("a",{staticClass:"btn btn-default btn-rounded mb-4 ",attrs:{id:"noviOglasDugme",href:"",href:"/noviOglas"}},[e._v("Novi oglas")])])}],v=(a("81b1"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"modalLoginForm",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{ref:"loginID",staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body mx-3"},[a("div",{staticClass:"md-form mb-5"},[a("i",{staticClass:"fas fa-envelope prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"email"}},[e._v("Your email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control validate",attrs:{type:"email",id:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"md-form mb-4"},[a("i",{staticClass:"fas fa-lock prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"pass"}},[e._v("Your password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control validate",attrs:{type:"password",id:"pass",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),a("div",{staticClass:"modal-footer d-flex justify-content-center"},[a("button",{staticClass:"btn btn-default",attrs:{id:"loginDugme"},on:{click:function(t){return e.login()}}},[e._v("Login")])])])])])}),h=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header text-center"},[a("h4",{staticClass:"modal-title w-100 font-weight-bold"},[e._v("Sign in")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])])}],f=a("bc3a"),b=a.n(f);const C="http://localhost:3000/korisnici/";b.a.defaults.withCredentials=!0;class w{constructor(){}async getKorisnik(){try{const e=await b.a.get(C),t=e.data;return t}catch(e){reject(e)}}async postKorisnik(e,t,a,s,o,i,r){let n;console.log("username i password "+s+"  "+r);try{return n=await b.a.post(C+"registracija",{ime:e,prezime:t,email:a,password:s,adresa:o,grad:i,username:r}).then(e=>{console.log("error"),console.log(e.data),console.log(e.status),console.log(e.statusText),console.log(e.headers),console.log(e.config)},e=>{console.log("error = "),console.log(e.data),console.log(e.status),console.log(e.statusText),console.log(e.headers),console.log(e.config)}),1}catch(l){console.log(error.message),console.log(l.message)}}async loginKorisnik(e,t){return b.a.post(C+"login",{email:e,password:t},{withCredentials:!0})}async logoutKorisnik(){return b.a.get(C+"session/logout",{withCredentials:!0})}async getSession(){return console.log("Pozivam proveru sesija"),b.a.get(C+"session/getSession",{withCredentials:!0})}deleteKorisnik(e){return b.a.delete(`${C}${e}`)}}var j=new w,y=a("1157"),A=a.n(y),_={name:"login",data(){return{email:"test@gmail.com",password:"testtest00",ulogovan:"false"}},methods:{fetchEmail(){return this.email},login:async function(){let e;e=await j.loginKorisnik(this.email,this.password),200===e.status?(this.ulogovan=!0,console.log("Nije error ="),console.log(e.data),A()(".modal").modal("hide"),console.log("ovo je id nakon logina"+e.data.id),this.$store.commit("setID",e.data.id),console.log("id = "+this.$store.getters.getId),this.$router.go()):(this.ulogovan=!1,console.log("error = "),203===e.status&&document.getElementById("pass").classList.add("is-invalid"),202===e.status&&document.getElementById("email").classList.add("is-invalid"))}},mounted(){A()(".modal").on("hidden.bs.modal",(function(){}))}};var x=_,k=(a("627e"),Object(d["a"])(x,v,h,!1,null,"d650b456",null)),O=k.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",fade:"",variant:"warning"},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[e._v(" "+e._s(this.error)+" ")]),a("div",{staticClass:"modal fade",attrs:{id:"modalRegisterForm",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body mx-3"},[a("div",{staticClass:"md-form mb-4"},[a("i",{staticClass:"fas fa-envelope prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"email"}},[e._v("Email adresa")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control validate ",attrs:{type:"email",id:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"md-form mb-4 col-6"},[a("i",{staticClass:"fas fa-lock prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"ime"}},[e._v("Ime")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ime,expression:"ime"}],staticClass:"form-control validate",attrs:{type:"text",id:"ime",placeholder:"Ime",onkeypress:"return (event.charCode > 64 &&\n    event.charCode < 91) || (event.charCode > 96 && event.charCode < 123)"},domProps:{value:e.ime},on:{input:function(t){t.target.composing||(e.ime=t.target.value)}}})]),a("div",{staticClass:"md-form mb-4 col-6"},[a("i",{staticClass:"fas fa-lock prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"prezime"}},[e._v("Prezime")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.prezime,expression:"prezime"}],staticClass:"form-control validate",attrs:{pattern:"[a-zA-Z]+",type:"text",id:"prezime",placeholder:"Prezime",onkeypress:"return (event.charCode > 64 &&\n    event.charCode < 91) || (event.charCode > 96 && event.charCode < 123)"},domProps:{value:e.prezime},on:{input:function(t){t.target.composing||(e.prezime=t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"md-form mb-4 col"},[a("i",{staticClass:"fas fa-lock prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"adresa"}},[e._v("Adresa")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.adresa,expression:"adresa"}],staticClass:"form-control validate",attrs:{type:"text",id:"adresa",placeholder:"Adresa",onkeypress:"return (event.charCode > 64 &&\n        event.charCode < 91) || (event.charCode > 96 && event.charCode < 123)"},domProps:{value:e.adresa},on:{input:function(t){t.target.composing||(e.adresa=t.target.value)}}})]),a("div",{staticClass:"md-form mb-4 col-2"},[a("i",{staticClass:"fas fa-lock prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"brojAdrese"}},[e._v("Broj")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.brojAdrese,expression:"brojAdrese"}],staticClass:"form-control validate",attrs:{type:"text",pattern:"[0-9]+",id:"brojAdrese",placeholder:"",min:"1"},domProps:{value:e.brojAdrese},on:{input:function(t){t.target.composing||(e.brojAdrese=t.target.value)}}})])]),a("div",{staticClass:"md-form mb-4"},[a("i",{staticClass:"fas fa-lock prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"grad"}},[e._v("Grad")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.grad,expression:"grad"}],staticClass:"form-control validate",attrs:{type:"text",id:"grad",placeholder:"Grad",onkeypress:"return (event.charCode > 64 &&\n    event.charCode < 91) || (event.charCode > 96 && event.charCode < 123)"},domProps:{value:e.grad},on:{input:function(t){t.target.composing||(e.grad=t.target.value)}}})]),a("div",{staticClass:"md-form mb-4"},[a("i",{staticClass:"fas fa-lock prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"username"}},[e._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control validate",attrs:{type:"text",id:"username",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),a("div",{staticClass:"md-form mb-4"},[a("i",{staticClass:"fas fa-lock prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control ",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),a("div",{staticClass:"modal-footer d-flex justify-content-center"},[a("button",{staticClass:"btn btn-default",attrs:{id:"registerDugme"},on:{click:e.konzola}},[e._v("Register")])])])])])],1)},E=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header text-center"},[a("h4",{staticClass:"modal-title w-100 font-weight-bold"},[e._v("Register")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal",id:"close","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])])}],P={name:"register",data(){return{dismissSecs:5,dismissCountDown:0,email:null,password:null,ime:null,prezime:null,adresa:null,brojAdrese:null,grad:null,username:null,error:"",prikaziError:!1,prosloCrvenoPolje:"ime"}},methods:{konzola:function(){this.prikaziError=!1,this.error="",document.getElementById(this.prosloCrvenoPolje).classList.remove("is-invalid"),null===this.ime?(this.error="Niste uneli ime",this.countDownChanged(3,"ime")):this.ime.length<3?(this.error="Ime vam je krace od 3 slova saberite se",this.countDownChanged(3,"ime")):null===this.prezime?this.error="Niste uneli prezime":this.prezime.length<3?this.error="Prezime vam je krace od 3 slova saberite se":null===this.password?(this.error="Niste uneli password",this.countDownChanged(3,"password")):this.password.length<3?(this.error="Password vam je krace od 3 slova saberite se",this.countDownChanged(3,"password")):null===this.adresa?(this.error="Niste uneli prezime",this.countDownChanged(3,"adresa")):this.adresa.length<3?(this.error="Adresa vam je krace od 3 slova saberite se",this.countDownChanged(3,"adresa")):null===this.username?(this.error="Niste uneli username",this.countDownChanged(3,"username")):this.username.length<3?(this.error="Username vam je krace od 3 slova saberite se",this.countDownChanged(3,"username")):null===this.grad?(this.error="Niste uneli ime grada",this.countDownChanged(3,"grad")):null===this.brojAdrese?(this.error="Niste uneli broj adrese",this.countDownChanged(3,"grad")):this.validirajEmail(this.email)?null===this.email?(this.error="Niste uneli prezime",this.countDownChanged(3,"email")):this.napraviKorisnika():(this.error="Email nije dobro unesen",this.countDownChanged(3,"email")),console.log(this.ime,this.prezime,this.email,this.password,this.adresa+" "+this.brojAdrese,this.grad,this.username),console.log(this.error)},countDownChanged(e,t){document.getElementById(t).classList.add("is-invalid"),this.prosloCrvenoPolje=t,this.dismissCountDown=e},validirajEmail:function(e){if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e))return!0;const t=e=>{this.prikaziError=!1};return setTimeout(t,4e3,4),!1},napraviKorisnika:async function(){try{let e;e=await j.postKorisnik(this.ime,this.prezime,this.email,this.password,this.adresa+" "+this.brojAdrese,this.grad,this.username),A()(".modal").modal("hide"),console.log(e)}catch(e){}}}},N=P,D=(a("af4b"),Object(d["a"])(N,I,E,!1,null,"7599d946",null)),$=D.exports,L={name:"header",data(){return{title:"Limetak",subtitl:"Sajt za licitaciju",image:"image",loggedin:!1}},components:{login:O,register:$,ulogovan:!1},async created(){console.log("HEADER ID KORISINIKA KOJI ZELI DA NAPRAVI OVAJ OGLAS JE =============== "+this.$store.state.idKorisnika)},methods:{konzola:function(){console.log("email i password"+this.email+" "+this.password)},idiNaNoviOglas:function(){console.log("Ovde?"),this.$router.push({path:"noviOglas"})},logout:async function(){await j.logoutKorisnik();this.$router.go(),this.$store.commit("setID",-2)},goToHome:function(){this.$router.go()}}},K=L,z=(a("93a5"),Object(d["a"])(K,g,p,!1,null,"932f2116",null)),S=z.exports,V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid",attrs:{id:"header"}},[s("header",{staticClass:"row"},[s("div",{staticClass:"col col-4 "}),s("div",{staticClass:"col col-4"},[s("a",{on:{click:function(t){return e.goToHome()}}},[s("img",{attrs:{src:a("81b1"),id:"logo"}})])]),s("keep-alive",[s("div",{staticClass:"row",attrs:{id:"headerdugmici"}},[s("div",{staticClass:"col col-"}),s("div",{staticClass:"text-center col col-3"},[s("a",{staticClass:"btn btn-default btn-rounded mb-4 ",attrs:{id:"loginModalDugme",href:"","data-toggle":"modal","data-target":"#modalLoginForm"}},[e._v("Login")])]),s("div",{staticClass:"text-center col col-3"},[s("a",{staticClass:"btn btn-default btn-rounded mb-4 ",attrs:{id:"registerModalDugme",href:"","data-toggle":"modal","data-target":"#modalRegisterForm"}},[e._v("Register")])])])])],1),s("div",[s("login"),s("register")],1)])},T=[],B={name:"header",data(){return{title:"Limetak",subtitl:"Sajt za licitaciju",image:"image",loggedin:!1}},components:{login:O,register:$,ulogovan:!1},async created(){},methods:{idiNaNoviOglas:function(){console.log("Ovde?"),this.$router.push({path:"noviOglas"})},goToHome:function(){this.$router.go()}}},R=B,Z=(a("83bd"),Object(d["a"])(R,V,T,!1,null,"5541c026",null)),J=Z.exports;const M="http://localhost:3000/";class U{constructor(){}async getRoot(){try{const e=await b.a.get(M),t=e.data;return t}catch(e){reject(e)}}}new U;var G={name:"App",components:{"webapp-footer":m,"webapp-header":J,headerLoggedIn:S},data(){return{title:"Titl",ulogovan:!1}},async created(){console.log("Ovo je druga promenjiva");let e=await j.getSession();console.log(e),this.ulogovan=e.data,console.log("ULOGOVAN "+this.ulogovan)},methods:{greetings:function(){return"nestonesto"},getUlogovan:async function(){return this.ulogovan}}},H=G,F=Object(d["a"])(H,o,i,!1,null,"682e8c4c",null),Y=F.exports,q=a("8c4f"),Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("webapp-content")],1)},W=[],X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"oglas-container"},e._l(e.oglasi,(function(t,s){return a("div",{key:t._id,staticClass:"oglas",attrs:{item:t,index:s},on:{click:function(e){}}},[a("div",[a("b-modal",{attrs:{id:t._id,"hide-footer":"",title:t.kategorija+" "+t.ime}},[e._v(" "+e._s("Prodavac : "+t.prodavac)+" "),a("br"),a("br"),a("p",{staticClass:"opis"},[e._v(e._s(t.opis))]),a("p",{staticClass:"preostaloVreme"},[e._v(e._s("Preostalo vreme "+t.preostaloVreme+" sekundi :::: broj pregleda "+t.brojPregleda))]),a("p",{staticClass:"cena"},[e._v(" "+e._s("Cena = "+t.cena+"e"))])])],1),e._v(" "+e._s(t.id+" :::: "+t.prodavac)+" "+e._s(""+t.datumPostavljanja)+" "),a("p",{staticClass:"ime"},[e._v(" "+e._s(t.kategorija+" --\x3e "+t.ime))]),a("br"),a("br"),a("p",{staticClass:"preostaloVreme"},[e._v(e._s("Preostalo vreme "+t.preostaloVreme+" sekundi :::: broj pregleda "+t.brojPregleda))]),a("p",{staticClass:"cena"},[e._v(" "+e._s("Cena = "+t.cena+"e"))]),a("div",{staticClass:"row"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.id,expression:"oglas.id"}]},[e._v(" Detaljnije")]),a("b-button",{on:{click:function(a){return e.idiNaOglas(t.id)}}},[e._v(" Idi na oglas")])],1)])})),0)])},ee=[];const te="http://localhost:3000/oglasi/";b.a.defaults.withCredentials=!0;class ae{constructor(){}async getOglasi(){try{const e=await b.a.get(te,{withCredentials:!0});return e.data}catch(e){reject(e)}}patchOglas(e){let t="brojpregleda";return b.a.patch(te+e,{poruka:t})}async getOglas(e){try{const t=await b.a.get(te+e);return t.data}catch(t){reject(t)}}async postOglas(e,t,a,s,o,i){console.log("prodavac_id ===== "+s);try{return await b.a.post(te,{ime:e,preostaloVreme:t,cena:a,opis:o,kategorija:i})}catch(r){console.log(r)}}async deleteOglas(e){return b.a.delete(`${te}${e}`)}splitOpis(e){let t=0,a=0;for(let s in e.opis)if(a++," "===e.opis[s]&&t++,15===t)break;return e.lessOpis=e.opis.substring(0,a),e.moreOpis=e.opis.substring(a,e.opis.length),"Nemoguce"}}var se=new ae,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"oglas"}},[a("div",{attrs:{id:"sadrzajOglasa"}},[e._v(" "+e._s(e.ovajOglas.id+" :::: "+e.ovajOglas.prodavac)+" "),a("p",{attrs:{id:"ime"}},[e._v(" "+e._s(e.ovajOglas.kategorija+" > "+e.ovajOglas.ime))]),a("br"),a("br"),a("p",{attrs:{id:"opis"}},[e._v(e._s(e.ovajOglas.opis))]),a("p",{attrs:{id:"preostaloVreme"}},[e._v(e._s("Preostalo vreme "+e.ovajOglas.preostaloVreme+" sekundi :::: broj pregleda "+e.ovajOglas.brojPregleda))]),a("p",{attrs:{id:"cena"}},[e._v(" "+e._s("Cena = "+e.ovajOglas.cena+"e"))]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-4"}),a("div",{staticClass:"input-group col "},[a("input",{staticClass:"form-control",attrs:{type:"number",id:"licitacionaCena","aria-label":"Ponuda???","aria-describedby":"basic-addon2",min:e.saberi(e.ovajOglas.cena)},domProps:{value:e.saberi(e.ovajOglas.cena)}}),a("span",{staticClass:"input-group-text"},[e._v("â‚¬")]),this.ulogovan?a("div",{staticClass:"input-group-append"},[a("button",{attrs:{type:"button"},on:{click:function(t){return e.licitiraj(e.ovajOglas.id,e.ovajOglas.cena)}}},[a("b",[e._v("LICITIRAJ.BA")])])]):e._e()]),a("div",{staticClass:"col col-3"})])])])},ie=[];const re="http://localhost:3000/licitacije/";class ne{constructor(){}async getLicitacije(){try{const e=await b.a.get(re),t=e.data;return t}catch(e){reject(e)}}async postLicitacija(e,t,a){return b.a.post(re,{oglasID:e,idKorisnika:t,cena:a},{withCredentials:!0})}deleteLicitacija(e){return b.a.delete(`${re}${e}`)}ispis(){}}var le=new ne,ce={name:"oglasi",data(){return{ulogovan:{type:String},_id:{type:String},prodavac:{type:String},preostaloVreme:{type:Number},cena:{type:Number},slikaLink:{type:String},idProdavca:{type:String},opis:{type:String},brojPregleda:{type:Number},idOglasa:{type:String},kategorija:{type:String},licitacije:{type:Array},lessOpis:{type:String},moreOpis:{type:String},datumPostavljanja:{type:Date},ovajOglas:{}}},async created(){console.log("Oglas.vue je ispisao ovu poruku");try{let e=await se.getOglas(this.$route.params.id),t=await j.getSession();this.ulogovan=t.data,this.ovajOglas=e;await se.patchOglas(this.$route.params.id)}catch(e){console.log(e.response+" ovo je iz oglasi.vue")}},methods:{splitOpis:function(e){},saberi:function(e){let t=parseInt(e);return t+=5,t},licitiraj:async function(e,t){let a=document.getElementById("licitacionaCena").value;console.log("Oglas id je ===="+e),console.log("AAAAAAA");let s=parseInt(a);if(s>=parseInt(t)+5){let t=await le.postLicitacija(e,1,s);console.log("ovo je licitacija = "+t),console.log("posle licitacije/////////////////////////////////////////////////////////"),this.$router.go()}}}},de=ce,ue=(a("66f2"),Object(d["a"])(de,oe,ie,!1,null,"6f85a5e0",null)),me=ue.exports,ge={name:"content",data(){return{oglasi:[],text:"",showModal:"true"}},components:{oglas:me},async created(){window.scrollTo(0,0);try{let e=await se.getOglasi();this.oglasi=e;let t=0;for(t=0;t<this.oglasi.length;t++);}catch(e){this.error=e.message}},methods:{test:function(){console.log("Teeeesttrue")},idiNaOglas:function(e){console.log(e),this.$router.push({name:"oglasi",params:{id:e}})}}},pe=ge,ve=(a("a860"),Object(d["a"])(pe,X,ee,!1,null,"418de7f6",null)),he=ve.exports,fe={name:"home",components:{"webapp-content":he}},be=fe,Ce=Object(d["a"])(be,Q,W,!1,null,"f1622218",null),we=(Ce.exports,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body mx-3"},[a("div",{staticClass:"md-form mb-4"},[a("i",{staticClass:"fas fa-envelope prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"imeOglasa"}},[e._v("Ime oglasa")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.imeOglasa,expression:"imeOglasa"}],staticClass:"form-control validate",attrs:{type:"text",id:"imeOglasa",placeholder:"Ime oglasa"},domProps:{value:e.imeOglasa},on:{input:function(t){t.target.composing||(e.imeOglasa=t.target.value)}}})]),a("b-dropdown",{staticClass:"m-md-2",attrs:{id:"preostaloVreme",name:"preostaloVreme",text:e.textZaVreme},model:{value:e.preostaloVreme,callback:function(t){e.preostaloVreme=t},expression:"preostaloVreme"}},e._l(this.optionsZaTrajanje,(function(t){return a("b-dropdown-item",{key:t.value,attrs:{value:t.value},on:{click:function(a){e.preostaloVreme=t.value,e.textZaVreme=t.text}}},[e._v(" "+e._s(t.text)+" ")])})),1),a("b-dropdown",{staticClass:"m-md-2",attrs:{id:"kategorija",name:"kategorija",text:e.textZaKategoriju,variant:"primary"},model:{value:e.kategorija,callback:function(t){e.kategorija=t},expression:"kategorija"}},e._l(this.optionsZaKategoriju,(function(t){return a("b-dropdown-item",{key:t.value,attrs:{value:t.value},on:{click:function(a){e.kategorija=t.value,e.textZaKategoriju=t.text}}},[e._v(" "+e._s(t.text)+" ")])})),1),a("div",{staticClass:"md-form mb-4 "},[a("i",{staticClass:"fas fa-lock prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"cena"}},[e._v("Cena proizvoda")]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cena,expression:"cena"}],staticClass:" form-control validate ",attrs:{type:"number",pattern:"[0-9]+",id:"cena",placeholder:"Cena",min:"0"},domProps:{value:e.cena},on:{input:function(t){t.target.composing||(e.cena=t.target.value)}}}),e._m(1)])]),a("div",{staticClass:"md-form mb-4"},[a("i",{staticClass:"fas fa-lock prefix grey-text"}),a("label",{attrs:{"data-error":"wrong","data-success":"right",for:"opis"}},[e._v("Opis oglasa")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.opis,expression:"opis"}],staticClass:"form-control",attrs:{id:"opis",rows:"3",placeholder:"Opis vaseg oglasa"},domProps:{value:e.opis},on:{input:function(t){t.target.composing||(e.opis=t.target.value)}}})])],1),a("div",{staticClass:"modal-footer d-flex justify-content-center"},[a("button",{staticClass:"btn btn-default",attrs:{id:"registerDugme"},on:{click:function(t){return e.konzola()}}},[e._v("Napravi oglas")])])])])])}),je=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header text-center"},[a("h4",{staticClass:"modal-title w-100 font-weight-bold"},[e._v("Novi oglas")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text "},[e._v("â‚¬")])])}],ye={name:"noviOglas",data(){return{textZaKategoriju:"Kategorija",textZaVreme:"Trajanje oglasa?",imeOglasa:"",slika:"",preostaloVreme:"",cena:"",prodavac:"",opis:"",kategorija:"",optionsZaTrajanje:[{value:"1",text:"Jedan dan"},{value:"2",text:"Dva dana"},{value:"3",text:"Tri dana"}],optionsZaKategoriju:[{value:"Umetnost",text:"Umetnost"},{value:"Aksesoari",text:"Aksesoari"},{value:"Mobilni telefoni",text:"Mobilni telefoni"},{value:"Tehnika",text:"Tehnika"},{value:"Auto i Moto",text:"Auto i Moto"},{value:"Knjige",text:"Knjige"},{value:"Odeca",text:"Odeca"}]}},created(){console.log("CREATED ID KORISINIKA KOJI ZELI DA NAPRAVI OVAJ OGLAS JE =============== "+this.$store.state.idKorisnika)},methods:{konzola:function(){console.log("ID KORISINIKA KOJI ZELI DA NAPRAVI OVAJ OGLAS JE =============== "+this.$store.state.idKorisnika),this.imeOglasa.length<2?document.getElementById("imeOglasa").classList.add("is-invalid"):(document.getElementById("imeOglasa").classList.remove("is-invalid"),this.cena.length<1?document.getElementById("cena").classList.add("is-invalid"):(document.getElementById("cena").classList.remove("is-invalid"),""!==this.kategorija?(document.getElementById("kategorija").classList.remove("is-invalid"),""!==this.preostaloVreme?(document.getElementById("preostaloVreme").classList.remove("is-invalid"),this.opis.length<3?document.getElementById("opis").classList.add("is-invalid"):(document.getElementById("opis").classList.remove("is-invalid"),console.log("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"),console.log(this.$store.state.idKorisnika),se.postOglas(this.imeOglasa,86400*parseInt(this.preostaloVreme),this.cena,this.$store.getters.getId,this.opis,this.kategorija),this.$router.push({name:"home"}))):document.getElementById("preostaloVreme").classList.add("is-invalid")):document.getElementById("kategorija").classList.add("is-invalid")))}}},Ae=ye,_e=(a("1279"),Object(d["a"])(Ae,we,je,!1,null,"4b9339d6",null)),xe=_e.exports;s["default"].use(q["a"]);const ke=[{path:"",name:"home",component:he},{path:"/oglasi/:id",name:"oglasi",component:me},{path:"/noviOglas/",name:"noviOglas",component:xe}],Oe=new q["a"]({mode:"history",base:"/",routes:ke});var Ie=Oe,Ee=a("2f62");s["default"].use(Ee["a"]);var Pe=new Ee["a"].Store({state:{idKorisnika:-1},mutations:{setID(e,t){e.idKorisnika=t}},getters:{getId:e=>e.idKorisnika},actions:{setIdKorisnika({comit:e,state:t},a){this.commit("setId",a.idKorisnika)}},modules:{}}),Ne=a("5f5b");a("4989"),a("ab8b");s["default"].config.productionTip=!1,s["default"].use(Ne["a"]),new s["default"]({router:Ie,store:Pe,render:function(e){return e(Y)}}).$mount("#app")},"57c4":function(e,t,a){},"627e":function(e,t,a){"use strict";var s=a("286b"),o=a.n(s);o.a},"66f2":function(e,t,a){"use strict";var s=a("57c4"),o=a.n(s);o.a},7230:function(e,t,a){},"81b1":function(e,t,a){e.exports=a.p+"img/headerlogo128.3ca38183.png"},"83bd":function(e,t,a){"use strict";var s=a("7230"),o=a.n(s);o.a},"8de3":function(e,t,a){},"93a5":function(e,t,a){"use strict";var s=a("9bac"),o=a.n(s);o.a},"9bac":function(e,t,a){},a860:function(e,t,a){"use strict";var s=a("8de3"),o=a.n(s);o.a},af4b:function(e,t,a){"use strict";var s=a("52c0"),o=a.n(s);o.a},e8de:function(e,t,a){"use strict";var s=a("250a"),o=a.n(s);o.a}});
//# sourceMappingURL=app.ca5ae6f1.js.map